<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Registred user</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"></link>
        <link rel="stylesheet" href="css/regKorisnik.css"></link>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
        <f:event type="preRenderView" listener="#{korisnik.login()}"></f:event>
        <!--        <h:outputStylesheet library="css" name="style.css"></h:outputStylesheet>-->
    </h:head>
    <h:body>
        <div class="full_page">
            <div class="row header_height header-color">
                <div class="col-3">
                    <p class="font_color">Logo side</p>
                </div>
                <div class="col-6 text-center" >
                    <p class="mt-2 font-weight-bold header_text">
                        Welcome #{korisnikController.k.ime}
                    </p>
                </div>
                <div class="col-3 text-center pt-3">
                    <h:form>
                        <h:commandLink class="mr-3 font_color" action="rezervacija">Rezervacije</h:commandLink>
                        <h:commandLink class="font_color" action="registracija">Poseceni Festivali</h:commandLink>
                        <h:commandLink class="ml-3 font_color" action="#{korisnik.logOut()}">LogOut</h:commandLink>
                    </h:form>
                </div>
            </div>
            <div class="row row1">
                <div class="col-8 nopadding">
                    <h:form class="form m-auto">
                    <h:dataTable class="table m-auto" style="color: white" value="#{controller.sviFestivali()}" var="fest">
                       
                        <h:column>
                            <f:facet name="header">
                                Naziv:
                            </f:facet>
                            #{fest.naziv}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Datum od:
                            </f:facet>
                            #{fest.datumOd}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Datum do:
                            </f:facet>
                            #{fest.datumDo}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Mesto:
                            </f:facet>
                            #{fest.mesto}
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                Info:
                            </f:facet>
                            <h:commandButton action="#{festival.prikaziDatiFestival(fest)}" value="Info"></h:commandButton>
                        </h:column>
                       
                    </h:dataTable>
                     </h:form>
                </div>
                <div class="col-4 text-center heightMax font_color">
                    <h:form class="form m-auto">
                        <h:panelGrid columns="1" class="m-auto">
                            <p>Pretraga festivala:</p>
                            <hr/>

                            <h:panelGrid columns="2">
                                <h:form>
                                    <p>Naziv festivala:</p>
                                    <h:inputText value="#{projekcija.nazivFestivalaZaProjekciju}"></h:inputText>
                                    <p>Originalni naziv filma <br/> ili naziv filma na srpskom:</p>
                                    <h:inputText value="#{projekcija.nazivFilmaNaSrpskomIliStraniNazivFilma}"></h:inputText>
                                    <p>Datum od:</p>
                                    <p:calendar mode="popup" value="#{projekcija.festivaldatumOd}" 
                                                yearRange="c-100:c" navigator="true" pattern="dd/MM/yyyy">
                                    </p:calendar>
                                    <p class="mt-2">Datum do:</p>
                                    <p:calendar mode="popup" value="#{projekcija.festivaldatumDo}" 
                                                yearRange="c-100:c" navigator="true" pattern="dd/MM/yyyy">
                                    </p:calendar>
                                </h:form>
                            </h:panelGrid>
                            <h:commandButton value="Pretrazi" action="#{projekcija.ispisNaZahtevRegKosinika()}" class="indexButton"></h:commandButton>
                        </h:panelGrid>
                    </h:form>
                </div>
            </div>
            <div class="row footer_bottom_margin">
                <div class="col-12 text-center footer_height footer-color">
                    <p class="font-weight-bold footer_text">
                        Hvala na poseti!
                    </p>
                </div>
            </div>
        </div>
    </h:body>
</html>

